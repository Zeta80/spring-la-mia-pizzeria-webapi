<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/webjars/bootstrap/5.1.3/css/bootstrap.min.css">
  <script defer th:src="@{/webjars/bootstrap/5.1.3/js/bootstrap.bundle.min.js}"></script>
  <link rel="stylesheet" href="/webjars/bootstrap/5.1.3/css/bootstrap.min.css">
  <title>Pizza Detail</title>
</head>
<body>

<div th:replace="~{fragments/navbar :: navbar}"></div>

<div class="container" th:object="${pizza}">
  <h1 >Pizzas</h1>
  <hr/>
  <div>
    <dl>
      <dt>Nome</dt>
      <dd th:text="*{nome}"></dd>


      <dt>Descrizione</dt>
      <dd th:text="*{descrizione}"></dd>


      <dt>Prezzo</dt>
      <dd th:text="*{prezzo}"></dd>

      <dt>Ingredienti</dt>
      <dd><span th:each="ingredient : *{ingredients}" th:text="${ingredient.name}" class="me-1"></span></dd>

    </dl>
  </div>


  <h2>
    <span>SUPER OFFERTE</span>
    <a th:href="@{/offers/create(pizzaId=${pizza.id})}"
       class="btn btn-primary rounded-circle"
       title="add offer"
    >
      Aggiungimi!
    </a>
  </h2>
  <table class="table">
    <thead>
    <tr>
      <th scope="col">nome offerta</th>
      <th scope="col">data offerta</th>
      <th scope="col">data fine</th>

    </tr>
    </thead>
    <tbody>
    <tr th:each="offer : *{offers}" th:object="${offer}">
      <td th:text="*{offerName}"></td>
      <td th:text="${#temporals.format(offer.offerStartDate, 'dd/MM/yyyy')}"></td>
      <td th:text="${#temporals.format(offer.offerEndDate, 'dd/MM/yyyy')}"></td>

    </tr>
    </tbody>
  </table>


  <div>
    <a th:href="@{/}"> Back to pizzas menu </a>
  </div>

</div>

</body>
</html>